(this["webpackJsonphour-logging"]=this["webpackJsonphour-logging"]||[]).push([[0],{103:function(e,t){},207:function(e){e.exports=JSON.parse('{"type":"service_account","project_id":"hour-logging","private_key_id":"819a5f2f0430a1993e2bb480eb908e5f1812fb6e","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCdsc+WOPmZuuPE\\nqnJzof+GOK/oi+lQmi7w0EyRNmr5kfOxXsfUfhx57G9lSpXUSqaaCVihazmFgzEs\\nBF73M6769UE4mqxjm1XGsXuWkhO6UqoGhDHGYsKNiYIwjr0tVfZtUvMLF3ksialS\\nRciusIW3m9VcM7tKXPzcW+b5B1wKh7MLSbvLoCGygGPJMU/mbL8HVTstNO9+wJnh\\nueyPL+U1RjYdtNGkjW35lRWx4QgZxs8CmS8kiebCJ/qHl/6ow3jQqfjB0c6Hr496\\nX9mB3N0bYKbngBIaiFcCgmvYVqj3CY/HQppxZii2kvlQd4Ilqe+HSptYwFsvCJhU\\nbJxPZHORAgMBAAECggEADvdtSEioB9sg+u1iZ28cnVSL/Xop7qhzhA+A9NdBV+Zu\\nRotEU/qUIU47VFW72qYrIbt5WfifQPiulgrkKHoTRWY5hnHHorx/a5g0rpm2nZxy\\n3qN1RerhpCVE4e7qLX9XIBEbWBYmPf/ivhg5b7r5Ne/oVBPk1q30ocVnKoN0TNtm\\nBPYzlbQ1uUhNAFwJa0aGq/mZvhBfeqWjnE3kp05yvrTv2yL7luh+c1d1+4PF5ulJ\\nt6L+bniDXE/ZnBq2/mrCb/eGM/cuX7jCZfAHWITZGdmWkinW2ZQvZjtWnKkPMVVt\\nUMzMHDP7aBMlAUF7Wgm8tTnO+ft5QlWwTQNR1WvWsQKBgQDUFiwPBz5XvPHmsxD5\\n1QvTK/I1Wa1TYALw1HfRysbqRlNkhu4lpk4FvigKWhZMqicPiO/ekoAkygC9Strp\\nj7ODOfJd4WAu9NfBN7U5Twu4ofweivldmz58NvMw5IIMIS8H1hN58RKzgbQYeDVM\\nIVF7/Pti6hX8r1VWOWsw9d4d3wKBgQC+WIshqJFj/d6RzXtNszZd18D0t/MMxHo7\\n0mxgBvUpJZ5sLHkE0M5qNub7FjJkEk/gXPyIUeAyDG9uyvc752+9LEkMfhpF5TGb\\nR1dFIqzbbpTAgrQZ7vKPdayqE/JqsHUCf/8EeRQXXW3lxGaRvFt3XpQxMnmBU3U/\\nsIFibd68jwKBgQCMmoZrECpMkH7uqxg+CPfl7+SLagB2ndhVQQaOlxh4iFcQ9kM7\\nwp1HQWHaOw89lDCBJA+iRw2dVi5XUCEBZrtj7C65/oh9mOTQu9XxQG5M4Vb8CLZ5\\nUEqEnwlrCJMO55D+aPZQiXoUd5CmCEuNRSl4QaeHVBlvg+3XVAm0U8wFkQKBgBzB\\nqbtbCSQPHYnvfjpd4c/JoagXBkwefsz83EyhoHYn7cgv69STayvWwYybbN97eL/P\\nrIM3w2QsRsV5OmK9cz8kKqENiBCZMKZh38hdFbpM+YIf/O+SDukngP9s5gnCQNsw\\n1Skq1aM2BT1aL5jC2RqumjrYgkzMfAE0PEfPi3/3AoGAX+e8EKFR8sDSpxy5G/FJ\\nUok9usCDXNJnRMw6euFcruMh/1voxqOuPFlJ6yirbjkgc3/rToQZMDuHfhVxssnV\\nqOd2t4261wdMx2TPK9UUizHIl1eAeq146Coj4mIgfaqKrnYk9R5jcvV07lFcdJa6\\nLnpbXqt8d1srMWL/w6fWr48=\\n-----END PRIVATE KEY-----\\n","client_email":"tr-hour-logging@hour-logging.iam.gserviceaccount.com","client_id":"103699735275389773135","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/tr-hour-logging%40hour-logging.iam.gserviceaccount.com"}')},208:function(e){e.exports=JSON.parse('{"ID":"1Yvt_H-IMjBmQDAQPqMY9TJzSgFruGOBLCZbbppt72dk"}')},259:function(e,t){},261:function(e,t){},271:function(e,t){},273:function(e,t){},299:function(e,t){},301:function(e,t){},302:function(e,t){},307:function(e,t){},309:function(e,t){},328:function(e,t){},340:function(e,t){},343:function(e,t){},391:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n.n(a),s=n(205),i=n.n(s),c=n(56),u=n(1),o=n.n(u),l=n(27),h=n(18),d=n(13),p=n(29),g=n(30),b=n(9),f=n(32),m=n(31),j=(n(58),n.p+"static/media/robotics_logo.264ccd8c.svg"),x=n(0),v=function(e){var t=e.onClick,n=e.children,a=e.smallBtn,r=e.onMouseUp,s=e.onMouseDown;return Object(x.jsx)("div",{className:"btn-container",children:Object(x.jsx)("button",{className:a?"small-btn-primary":"btn btn-primary",onClick:t,onMouseUp:r,onMouseDown:s,children:n})})},O=n(206),I=n(207),k=n(208),w=new O.GoogleSpreadsheet(k.ID),S=!1,D=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.useServiceAccountAuth(I);case 2:return e.next=4,w.loadInfo();case 4:case"end":return e.stop()}}),e)})))().then((function(){return S=!0}));function y(e){return C.apply(this,arguments)}function C(){return(C=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=4;break}return e.abrupt("return",w.sheetsByTitle[t]);case 4:return e.next=6,D;case 6:return e.abrupt("return",y(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return M.apply(this,arguments)}function M(){return(M=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("Members");case 2:return t=e.sent,e.next=5,t.getRows();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return V.apply(this,arguments)}function V(){return(V=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("Currently Signed In");case 2:return t=e.sent,e.next=5,t.getRows();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:n=e.sent,a=Object(h.a)(n),e.prev=4,a.s();case 6:if((r=a.n()).done){e.next=12;break}if(r.value.ID!==t){e.next=10;break}return e.abrupt("return",!0);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})))).apply(this,arguments)}function E(e){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(o.a.mark((function e(t){var n,a,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:n=e.sent,a=Object(h.a)(n),e.prev=4,a.s();case 6:if((r=a.n()).done){e.next=12;break}if((s=r.value).ID!==t){e.next=10;break}return e.abrupt("return",s.Name);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})))).apply(this,arguments)}function L(e,t){return F.apply(this,arguments)}function F(){return(F=Object(d.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:a=e.sent,r=0;case 4:if(!(r<a.length)){e.next=13;break}if(a[r].ID!==n){e.next=10;break}return a[r].Name=t,e.next=9,a[r].save();case 9:return e.abrupt("break",13);case 10:r++,e.next=4;break;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(d.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(n);case 2:if(!e.sent){e.next=13;break}return e.next=6,E(n);case 6:if(e.sent===t){e.next=11;break}return e.next=10,L(t,n);case 10:return e.abrupt("return",!0);case 11:e.next=17;break;case 13:return a=w.sheetsByTitle.Members,e.next=16,a.addRow({Name:t,ID:n,"Date Added":X()[0]});case 16:return e.abrupt("return",!0);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return K.apply(this,arguments)}function K(){return(K=Object(d.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:n=e.sent,a=Object(h.a)(n),e.prev=4,a.s();case 6:if((r=a.n()).done){e.next=12;break}if(r.value.ID!==t){e.next=10;break}return e.abrupt("return",!0);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})))).apply(this,arguments)}function Q(){return(Q=Object(d.a)(o.a.mark((function e(t){var n,a,r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t);case 2:if(!e.sent){e.next=25;break}return e.next=6,A(t);case 6:if(!e.sent){e.next=10;break}return e.abrupt("return",!0);case 10:return n=w.sheetsByTitle["Currently Signed In"],a=X(),r=Object(c.a)(a,2),s=r[0],i=r[1],e.t0=n,e.t1=s,e.t2=i,e.next=17,E(t);case 17:return e.t3=e.sent,e.t4=t,e.t5={Date:e.t1,Time:e.t2,Name:e.t3,ID:e.t4},e.next=22,e.t0.addRow.call(e.t0,e.t5);case 22:return e.abrupt("return",!0);case 23:e.next=26;break;case 25:return e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(d.a)(o.a.mark((function e(t,n){var a,r,s,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=n||X()[1],e.next=3,T();case 3:a=e.sent,r=Object(h.a)(a),e.prev=5,r.s();case 7:if((s=r.n()).done){e.next=29;break}if((i=s.value).ID!==t){e.next=27;break}return e.next=12,y("Hours");case 12:return c=e.sent,e.t0=c,e.t1=i.Date,e.next=17,E(t);case 17:return e.t2=e.sent,e.t3=t,e.t4=i.Time,e.t5=n,e.t6={Date:e.t1,Name:e.t2,ID:e.t3,"Time In":e.t4,"Time Out":e.t5},e.next=24,e.t0.addRow.call(e.t0,e.t6);case 24:return e.next=26,i.delete();case 26:return e.abrupt("return",!0);case 27:e.next=7;break;case 29:e.next=34;break;case 31:e.prev=31,e.t7=e.catch(5),r.e(e.t7);case 34:return e.prev=34,r.f(),e.finish(34);case 37:return e.abrupt("return",!1);case 38:case"end":return e.stop()}}),e,null,[[5,31,34,37]])})))).apply(this,arguments)}function U(e,t){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(o.a.mark((function e(t,n){var a,r,s,i,u,l,d,p,g,b,f,m,j,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n){e.next=4;break}n=t.map((function(){return X()[1]})),e.next=6;break;case 4:if(t.length===n.length){e.next=6;break}throw new Error("`OutTimes` needs to be the same length as `ids`");case 6:return e.next=8,y("Currently Signed In");case 8:return a=e.sent,e.next=11,a.getRows();case 11:r=e.sent,s=r[0]._sheet.headerValues,i=r.map((function(e){return e.ID})),u=[],l=[],d=Object(h.a)(t.map((function(e,t){return[e,n[t]]}))),e.prev=17,d.s();case 19:if((p=d.n()).done){e.next=40;break}if(g=Object(c.a)(p.value,2),b=g[0],f=g[1],-1===(m=i.indexOf(b))){e.next=37;break}return j=r[m],l.push(m),e.t0=u,e.t1=j.Date,e.next=29,E(b);case 29:e.t2=e.sent,e.t3=b,e.t4=j.Time,e.t5=f,e.t6={Date:e.t1,Name:e.t2,ID:e.t3,"Time In":e.t4,"Time Out":e.t5},e.t0.push.call(e.t0,e.t6),e.next=38;break;case 37:console.log("Not signed in!",b);case 38:e.next=19;break;case 40:e.next=45;break;case 42:e.prev=42,e.t7=e.catch(17),d.e(e.t7);case 45:return e.prev=45,d.f(),e.finish(45);case 48:return r=r.filter((function(e,t){return!l.includes(t)})),e.next=51,a.clear();case 51:return e.next=53,a.setHeaderRow(s);case 53:if(!(r.length>0)){e.next=56;break}return e.next=56,a.addRows(r);case 56:return e.next=58,y("Hours");case 58:return x=e.sent,e.next=61,x.addRows(u);case 61:case"end":return e.stop()}}),e,null,[[17,42,45,48]])})))).apply(this,arguments)}function X(){var e=new Date;return[e.toLocaleDateString("en-US"),"".concat(Z(e.getHours()),":").concat(Z(e.getMinutes()))]}function Z(e){return 1===(""+e).length?"0"+e:e}function _(){return new Date((new Date).toLocaleDateString("en-US"))}var J=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={nameValue:"",idValue:"",error:""},e.handleNameChange=e.handleNameChange.bind(Object(b.a)(e)),e.handleIdChange=e.handleIdChange.bind(Object(b.a)(e)),e.handleClick=e.handleClick.bind(Object(b.a)(e)),e.handleKeyPress=e.handleKeyPress.bind(Object(b.a)(e)),e}return Object(g.a)(n,[{key:"handleNameChange",value:function(e){this.setState({nameValue:e.target.value})}},{key:"handleIdChange",value:function(e){this.setState({idValue:e.target.value})}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&(this.handleClick(),e.target.blur())}},{key:"handleClick",value:function(){var e=this;""===this.state.nameValue||""===this.state.idValue?this.setState({error:"Invalid input"}):(this.setState({error:""}),this.clearValues(),function(e,t){return q.apply(this,arguments)}(this.state.nameValue,this.state.idValue).then((function(t){return t?null:e.setState({error:"Duplicate Member Entry"})})))}},{key:"clearValues",value:function(){this.setState({nameValue:"",idValue:""})}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"row row-input",children:[Object(x.jsx)("input",{type:"text",placeholder:"Name",value:this.state.nameValue,onChange:this.handleNameChange,onKeyPress:this.handleKeyPress}),Object(x.jsx)("input",{type:"number",placeholder:"School ID",value:this.state.idValue,onChange:this.handleIdChange,onKeyPress:this.handleKeyPress}),Object(x.jsx)(v,{onClick:this.handleClick,children:"Register"})]}),this.state.error?Object(x.jsxs)("h3",{className:"error",children:["Error: ",this.state.error]}):""]})}}]),n}(r.a.Component),Y=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={nameIdValue:"",autocompleteValue:"",currentMember:null,possibleMembers:[],memberData:[],showDropDown:!1,error:"",success_txt:""},a.inputRef=r.a.createRef(),a.handleTextChange=a.handleTextChange.bind(Object(b.a)(a)),a.openDropDown=a.openDropDown.bind(Object(b.a)(a)),a.closeDropDown=a.closeDropDown.bind(Object(b.a)(a)),a.handleSignInClick=a.handleSignInClick.bind(Object(b.a)(a)),a.handleDropDownItemClick=a.handleDropDownItemClick.bind(Object(b.a)(a)),a.handleKeyPress=a.handleKeyPress.bind(Object(b.a)(a)),N().then((function(e){a.setState({memberData:e}),a.updateDropDown(a.state.nameIdValue)})),a}return Object(g.a)(n,[{key:"handleTextChange",value:function(e){var t=e.target.value;this.setState({nameIdValue:t}),this.updateDropDown(t),""===t?(this.setState({error:""}),this.closeDropDown(!0)):this.openDropDown(),this.state.success_txt&&this.setState({success_txt:""})}},{key:"format",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?"".concat(e.ID," | ").concat(e.Name):"".concat(e.Name," | ").concat(e.ID)}},{key:"updateDropDown",value:function(e){if(""===e)this.setState({possibleMembers:this.state.memberData,currentMember:null,autocompleteValue:""});else{var t,n=e.toLowerCase(),a=[],r="",s=null,i=Object(h.a)(this.state.memberData);try{for(i.s();!(t=i.n()).done;){var c=t.value,u=[this.format(c),this.format(c,!0)],o=u[0],l=u[1],d="";n.length<=o.length&&(n===o.slice(0,n.length).toLowerCase()?(a.push(c),d=o):n===l.slice(0,n.length).toLowerCase()&&(a.push(c),d=l),1===a.length&&d&&(r=e+d.slice(e.length),s=c))}}catch(p){i.e(p)}finally{i.f()}this.setState({possibleMembers:a,currentMember:s,autocompleteValue:r})}}},{key:"openDropDown",value:function(){var e=this;this.setState({showDropDown:!0}),N().then((function(t){e.setState({memberData:t}),e.updateDropDown(e.state.nameIdValue)}))}},{key:"closeDropDown",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.setState({showDropDown:!1}):setTimeout((function(){return e.setState({showDropDown:!1})}),400)}},{key:"handleSignInClick",value:function(){if(this.closeDropDown(),this.state.currentMember&&this.props.signedIn.map((function(e){return e.ID})).includes(this.state.currentMember.ID))this.changeInputTextTo(""),this.setState({success_txt:"Already Signed In: ".concat(this.state.currentMember.Name)});else if(this.state.currentMember){var e=this.state.currentMember;!function(e){Q.apply(this,arguments)}(e.ID),this.props.localSignInFunc(e.Name,e.ID),this.changeInputTextTo(""),this.setState({success_txt:"Sign in Successful: ".concat(e.Name)}),setTimeout(this.props.updateFunc,3e3)}else""!==this.state.nameIdValue&&this.setState({error:"Unknown Member"})}},{key:"handleDropDownItemClick",value:function(e){this.changeInputTextTo(this.format(e)),setTimeout(this.handleSignInClick,500)}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&(this.state.currentMember&&this.changeInputTextTo(this.format(this.state.currentMember)),this.handleSignInClick())}},{key:"changeInputTextTo",value:function(e){this.handleTextChange({target:{value:e}})}},{key:"render",value:function(){var e=this,t=-1e4,n=-1e4,a=0;return null!==this.inputRef.current&&(t=this.inputRef.current.offsetLeft,n=this.inputRef.current.offsetTop,a=this.inputRef.current.scrollWidth),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"row row-input pos-relative",children:[Object(x.jsx)("input",{type:"text",placeholder:"Name or ID",autoFocus:"autofocus",style:{zIndex:100,width:"40vw"},spellCheck:"false",value:this.state.nameIdValue,onChange:this.handleTextChange,ref:this.inputRef,onBlur:function(){e.closeDropDown()},onKeyPress:this.handleKeyPress}),Object(x.jsx)(v,{onClick:this.handleSignInClick,children:"Sign In"}),this.state.showDropDown?Object(x.jsxs)("div",{className:"drop-down",style:{transform:"translate(".concat(t,"px, ").concat(n,"px)"),width:"".concat(a,"px")},children:[Object(x.jsx)("p",{className:"autocomplete",children:this.state.autocompleteValue}),Object(x.jsx)(G,{data:this.state.possibleMembers,onItemClick:this.handleDropDownItemClick,format:this.format})]}):""]}),this.state.error?Object(x.jsxs)("h3",{className:"error",children:["Error: ",this.state.error]}):"",this.state.success_txt?Object(x.jsx)("h3",{className:"success",children:this.state.success_txt}):""]})}}]),n}(r.a.Component);function G(e){var t=e.data,n=e.onItemClick,a=e.format;return t.length>0?Object(x.jsx)("ul",{className:"drop-down-box",tabIndex:"0",children:t.map((function(e,t){return Object(x.jsx)("li",{children:Object(x.jsx)("p",{onClick:function(){return n(e)},children:a(e)})},t)}))}):""}var z=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).lastMouseDown=null,a.state={},a.handleMultiSignOutClick=a.handleMultiSignOutClick.bind(Object(b.a)(a)),a.setLastMouseDown=a.setLastMouseDown.bind(Object(b.a)(a)),a}return Object(g.a)(n,[{key:"handleMultiSignOutClick",value:function(e){e.timeStamp-this.lastMouseDown>500?this.props.signedIn.filter((function(e){return!e.pending})).length>0?this.props.multiSignOut(this.props.signedIn.filter((function(e){return!e.pending})).map((function(e){return e.ID}))):console.log("no one is logged in"):console.log("NO")}},{key:"setLastMouseDown",value:function(e){this.lastMouseDown=e.timeStamp}},{key:"render",value:function(){var e=this;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"separator bold",children:[this.props.signedIn.length," Currently Signed In"]}),Object(x.jsxs)("ul",{className:"series",children:[Object(x.jsxs)("li",{className:"bold signed-in-list-item",children:[Object(x.jsx)("h2",{children:"Date"}),Object(x.jsx)("h2",{children:"Time In"}),Object(x.jsx)("h2",{children:"Name"}),Object(x.jsx)(v,{smallBtn:!0,onMouseUp:this.handleMultiSignOutClick,onMouseDown:this.setLastMouseDown,children:"Sign Out All"})]}),this.props.signedIn.length>0?this.props.signedIn.map((function(t){return Object(x.jsx)($,{data:t,onSignedOutBtn:function(){return e.props.signOut(t.ID)}},t.Name)})):Object(x.jsx)("li",{className:"flex-center",children:Object(x.jsx)("h3",{children:"No one is signed in"})})]})]})}}]),n}(r.a.Component),$=function(e){var t=e.data,n=e.onSignedOutBtn;return Object(x.jsxs)("li",{className:"signed-in-list-item",children:[Object(x.jsx)("p",{children:t.Date}),Object(x.jsx)("p",{children:t.Time}),Object(x.jsx)("p",{children:t.Name}),t.pending?Object(x.jsx)("div",{className:"small-loader"}):Object(x.jsx)(v,{smallBtn:!0,onClick:n,children:"Sign Out"})]})},ee=function(e){Object(f.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={currentlySignedIn:[],pendingSignIn:[],pendingSignOut:[],isOnline:window.navigator.onLine},e.updateSignedIn=e.updateSignedIn.bind(Object(b.a)(e)),e.addNewLocalSignIn=e.addNewLocalSignIn.bind(Object(b.a)(e)),e.handleSignOut=e.handleSignOut.bind(Object(b.a)(e)),e.handleMultiSignOut=e.handleMultiSignOut.bind(Object(b.a)(e)),e.checkIfSignedInTooLong=e.checkIfSignedInTooLong.bind(Object(b.a)(e)),e}return Object(g.a)(n,[{key:"checkIfSignedInTooLong",value:function(){var e=Object(d.a)(o.a.mark((function e(){var t,n,a,r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=Object(h.a)(this.state.currentlySignedIn);try{for(n.s();!(a=n.n()).done;)r=a.value,new Date(r.Date)<_()&&t.push(r.ID)}catch(c){n.e(c)}finally{n.f()}if(!(t.length>0)){e.next=10;break}return e.next=6,U(t,t.map((function(){return"18:00"})));case 6:s=this.state.currentlySignedIn.map((function(e){return t.includes(e.ID)?Object(l.a)(Object(l.a)({},e),{},{pending:!0}):e})),i=this.state.pendingSignOut.concat(t),this.setState({pendingSignOut:i,currentlySignedIn:s}),setTimeout(this.updateSignedIn,3e3);case 10:console.log("Check logged in",X(),t,this.state.currentlySignedIn);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;setTimeout(this.updateSignedIn,500),window.addEventListener("offline",(function(){return e.onlineChangeHandler(!1)})),window.addEventListener("online",(function(){return e.onlineChangeHandler(!0)}))}},{key:"onlineChangeHandler",value:function(e){this.setState({isOnline:e})}},{key:"updateSignedIn",value:function(){var e=this;T().then((function(t){var n,a=[],r=t.map((function(e){return e.ID})),s=Object(h.a)(e.state.pendingSignIn);try{for(s.s();!(n=s.n()).done;){var i=n.value.ID;r.includes(i)||a.push(i)}}catch(p){s.e(p)}finally{s.f()}var c=[];for(var u in e.state.pendingSignOut)if(r.includes(u)){c.push(u);var o=r.indexOf(u),d=t[o];t[o]=Object(l.a)(Object(l.a)({},d),{},{pending:!0})}e.setState({currentlySignedIn:t,pendingSignIn:a,pendingSignOut:c},(function(){e.notFirstRefresh||(e.checkIfSignedInTooLong(),setInterval(e.checkIfSignedInTooLong,36e5))})),e.notFirstRefresh=!0}))}},{key:"addNewLocalSignIn",value:function(e,t){var n=X(),a=Object(c.a)(n,2),r=a[0],s=a[1];this.setState({pendingSignIn:this.state.pendingSignIn.concat([{Name:e,Time:s,Date:r,ID:t,pending:!0}])})}},{key:"handleSignOut",value:function(e){var t=this.state.currentlySignedIn.map((function(t){return t.ID===e?Object(l.a)(Object(l.a)({},t),{},{pending:!0}):t}));this.setState({currentlySignedIn:t,pendingSignOut:this.state.pendingSignOut.concat(e)}),function(e,t){return H.apply(this,arguments)}(e).then(this.updateSignedIn)}},{key:"handleMultiSignOut",value:function(e){var t=this.state.currentlySignedIn.map((function(t){return e.includes(t.ID)?Object(l.a)(Object(l.a)({},t),{},{pending:!0}):t}));this.setState({currentlySignedIn:t,pendingSignOut:this.state.pendingSignOut.concat(e)}),U(e).then(this.updateSignedIn)}},{key:"render",value:function(){return this.state.isOnline?Object(x.jsxs)("div",{className:"col flex-center",children:[Object(x.jsxs)("div",{className:"row",id:"header",children:[Object(x.jsx)("h1",{className:"title",children:"Titan Robotics Hour Logging"}),Object(x.jsx)("img",{id:"logo",src:j,alt:"<Robotics logo>"})]}),Object(x.jsx)("div",{className:"separator bold",children:"Sign In or Register"}),Object(x.jsx)(Y,{localSignInFunc:this.addNewLocalSignIn,updateFunc:this.updateSignedIn,signedIn:this.state.currentlySignedIn.concat(this.state.pendingSignIn)}),Object(x.jsx)("h2",{className:"no-bold",children:"or"}),Object(x.jsx)(J,{}),Object(x.jsx)(z,{multiSignOut:this.handleMultiSignOut,signOut:this.handleSignOut,signedIn:this.state.currentlySignedIn.concat(this.state.pendingSignIn),updateFunc:this.updateSignedIn})]}):Object(x.jsxs)("div",{className:"col flex-center",children:[Object(x.jsx)("h2",{className:"bold",children:"Waiting for internet connection..."}),Object(x.jsx)("div",{className:"loader"})]})}}]),n}(r.a.Component),te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,392)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))};i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(ee,{})}),document.getElementById("root")),te((function(){}))},58:function(e,t,n){}},[[391,1,2]]]);
//# sourceMappingURL=main.520543e3.chunk.js.map